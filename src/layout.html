<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/assets/css/chota.css">

    <title>Obsesiman Report - Vanilla</title>

</head>

<body>

    <div class="app-container">
        <!-- Sidebar Container for both columns -->
        <div id="sidebar-container" class="sidebar-container">
            <!-- Column 1: Main Sidebar -->
            <aside class="main-sidebar">
                <ul class="main-nav">
                    <li>
                        <a href="#" class="nav-item" data-menu="home">
                            <i class="bi bi-house"></i>
                            <span>Home</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-item active" data-menu="aplikasi">
                            <i class="bi bi-house"></i>
                            <span>Aplikasi</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-item" data-menu="laporan">
                            <i class="bi bi-house"></i>
                            <span>Laporan</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-item" data-menu="system">
                            <i class="bi bi-house"></i>
                            <span>System</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-item" data-menu="system">
                            <i class="bi bi-house"></i>
                            <span>System</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-item" data-menu="system">
                            <i class="bi bi-house"></i>
                            <span>Logout</span>
                        </a>
                    </li>
                </ul>

            </aside>

            <!-- Column 2: Sub Menu -->
            <div id="sub-menu-container" class="sub-menu-container">
                <!-- Home Submenu -->
                <div class="logo">
                    <button class="sidebar-toggle" id="sidebar-toggle">
                        <i class="bi bi-sliders"></i>
                    </button>
                    <h1 class="header-title">Asset Management System</h1>
                </div>

                <div class="sub-menu" id="home-submenu" style="display: none;">

                    <div class="sub-menu-list">
                        <a href="#">
                            <span>Dashboard</span>
                            <i class="bi bi-arrow-right"></i>
                        </a>
                        <a href="#"><span>Analytics</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Reports</span><i class="bi bi-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Aplikasi Submenu -->
                <div class="sub-menu" id="aplikasi-submenu" style="display: none;">
                    <div class="sub-menu-list">
                        <a href="#"><span>App List</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>New App</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Settings</span><i class="bi bi-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Laporan Submenu -->
                <div class="sub-menu" id="laporan-submenu" style="display: none;">
                    <div class="sub-menu-list">
                        <a href="#"><span>Sales Report</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>User Report</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Financials</span><i class="bi bi-arrow-right"></i></a>
                    </div>
                </div>

                <!-- System Submenu -->
                <div class="sub-menu" id="system-submenu">
                    <div class="sub-menu-list">
                        <a href="#"><span>Group</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Roles</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Menu</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Link</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>Permission</span><i class="bi bi-arrow-right"></i></a>
                        <a class="active" href="#"><span>Setting Website</span><i class="bi bi-arrow-right"></i></a>
                        <a href="#"><span>User</span><i class="bi bi-arrow-right"></i></a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Column 3: Main Content -->
        <main class="main-content">
            <header class="main-header">
                <div class="header-title-wrapper">
                    <button id="mobile-menu-button" class="mobile-menu-button">
                        <i class="bi bi-sliders"></i>
                    </button>
                    <h1 class="header-title">OBSESIMAN REPORT</h1>
                </div>
                <div class="user-profile">
                    <div class="notification-icon" id="notification-icon">
                        <i class="bi bi-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>

                    <div class="profile-icon" id="profile-icon">
                        <i class="bi bi-person-badge"></i>
                        <div class="profile-dropdown" id="profile-dropdown">
                            <a href="#" class="dropdown-item">Profile</a>
                            <a href="#" class="dropdown-item">Settings</a>
                            <a href="#" class="dropdown-item">Logout</a>
                        </div>
                    </div>
                </div>
            </header>
            <div class="content-body">
                <div class="card">
                    <div class="row">
                        <div class="col">
                            <p class="grouped">
                                <label for="">Search</label>
                                <select name="search" id="">
                                    <option value="">Masukan 1</option>
                                    <option value="">Masukan 2</option>
                                </select>
                            </p>
                        </div>

                        <div class="col">
                            <p class="grouped">
                                <label for="">Filter</label>
                                <input type="search" name="input__text6" id="input__text6" placeholder="Search">
                                <button class="button icon-only">
                                    <img src="https://icongr.am/feather/search.svg?size=16">
                                </button>
                            </p>
                        </div>
                    </div>

                    <hr class="hr">

                    <table class="data-table striped">
                        <thead>
                            <tr>
                                <th><input type="checkbox"></th>
                                <th class="action-header text-center">Aksi</th>
                                <th>Kode</th>
                                <th>Nama</th>
                                <th>Icon</th>
                                <th>Url</th>
                                <th>Sort</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td class="column-action">
                                    <div class="action-table">
                                        <a class="button primary" href="http://"><i class="bi bi-pencil-square"></i></a>
                                        <a class="button error" href="http://"><i class="bi bi-trash"></i></a>
                                    </div>
                                </td>
                                <td>aplikasi</td>
                                <td>Aplikasi</td>
                                <td>window-sidebar</td>
                                <td></td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td class="column-action">
                                    <button title="Edit">‚úèÔ∏è</button>
                                    <button title="Delete">üóëÔ∏è</button>
                                </td>
                                <td>laporan</td>
                                <td>Laporan</td>
                                <td>printer</td>
                                <td></td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox"></td>
                                <td class="column-action">
                                    <button title="Edit">‚úèÔ∏è</button>
                                    <button title="Delete">üóëÔ∏è</button>
                                </td>
                                <td>master table yang panjang banget jadi harus di break down</td>
                                <td>Master</td>
                                <td>database</td>
                                <td></td>
                                <td>7</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <footer class="content-footer">
                <button class="button error">Kosongkan</button>
                <button class="button success">Buat</button>
                <button class="button primary">Sort</button>
            </footer>
        </main>
    </div>

    <!-- Notification Drawer -->
    <div class="notification-drawer" id="notification-drawer">
        <div class="notification-header">
            <h2 class="notification-title">Notifications</h2>
            <button class="notification-close" id="notification-close">√ó</button>
        </div>
        <div class="notification-list" id="notification-list">
            <div class="notification-item unread">
                <div class="notification-icon-small"><i class="bi bi-person-circle"></i></div>
                <div class="notification-content">
                    <p class="notification-message">A new user 'john_doe' has registered to the system.</p>
                    <div class="notification-time">10 minutes ago</div>
                    <div class="notification-actions">
                        <button class="notification-action">Mark as read</button>
                        <button class="notification-action">Dismiss</button>
                    </div>
                </div>
            </div>
            <div class="notification-item unread">
                <div class="notification-icon-small"><i class="bi bi-bell"></i></div>
                <div class="notification-content">
                    <p class="notification-message">Your monthly sales report has been successfully generated.</p>
                    <div class="notification-time">1 hour ago</div>
                    <div class="notification-actions">
                        <button class="notification-action">Mark as read</button>
                        <button class="notification-action">Dismiss</button>
                    </div>
                </div>
            </div>
            <div class="notification-item ">
                <div class="notification-icon-small"><i class="bi bi-bell"></i></div>
                <div class="notification-content">
                    <p class="notification-message">A new system update is available. Please update at your
                        convenience.</p>
                    <div class="notification-time">2 hours ago</div>
                    <div class="notification-actions">
                        <button class="notification-action">Mark as read</button>
                        <button class="notification-action">Dismiss</button>
                    </div>
                </div>
            </div>
            <div class="notification-item ">
                <div class="notification-icon-small"><i class="bi bi-bell"></i></div>
                <div class="notification-content">
                    <p class="notification-message">A payment of $250.00 has been received from Customer Inc.</p>
                    <div class="notification-time">5 hours ago</div>
                    <div class="notification-actions">
                        <button class="notification-action">Mark as read</button>
                        <button class="notification-action">Dismiss</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="notification-footer">
            <button class="mark-all-read" id="mark-all-read">Mark all as read</button>
        </div>
    </div>

    <div id="overlay" class="overlay"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Element References ---
            const subMenuContainer = document.getElementById('sub-menu-container');
            const mainNavItems = document.querySelectorAll('.nav-item');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const sidebarContainer = document.getElementById('sidebar-container');
            const overlay = document.getElementById('overlay');
            const profileIcon = document.getElementById('profile-icon');
            const profileDropdown = document.getElementById('profile-dropdown');
            const notificationIcon = document.getElementById('notification-icon');
            const notificationDrawer = document.getElementById('notification-drawer');
            const notificationClose = document.getElementById('notification-close');
            const notificationList = document.getElementById('notification-list');
            const markAllReadBtn = document.getElementById('mark-all-read');
            const notificationBadge = document.querySelector('.notification-badge');
            const subMenus = document.querySelectorAll('.sub-menu');

            // --- Function to add data-label attributes to table cells ---
            function addDataLabelsToTable() {
                const table = document.querySelector('.data-table');
                if (!table) return;

                const headers = Array.from(table.querySelectorAll('thead th'));
                const rows = table.querySelectorAll('tbody tr');

                rows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    cells.forEach((cell, index) => {
                        if (headers[index]) {
                            const headerText = headers[index].textContent.trim();
                            // Skip checkbox and action columns
                            if (headerText !== '' && !headerText.includes('input')) {
                                cell.setAttribute('data-label', headerText);
                            }
                        }
                    });
                });
            }

            // --- Function to show a specific submenu ---
            function showSubMenu(menuId) {
                // Hide all submenus first
                subMenus.forEach(subMenu => {
                    subMenu.style.display = 'none';
                });

                // Show the selected submenu
                const selectedSubMenu = document.getElementById(`${menuId}-submenu`);
                if (selectedSubMenu) {
                    selectedSubMenu.style.display = 'block';
                }
            }

            // --- Function to toggle submenu visibility ---
            function toggleSubMenu(show) {
                if (window.innerWidth <= 768) {
                    // On mobile, the sidebar container handles both menus
                    return;
                }
                if (show) {
                    subMenuContainer.classList.remove('hidden');
                } else {
                    subMenuContainer.classList.add('hidden');
                }
            }


            // --- Event Listeners ---

            // Main navigation item clicks
            mainNavItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();
                    const menuId = this.getAttribute('data-menu');

                    // Remove active class from all items
                    mainNavItems.forEach(navItem => {
                        navItem.classList.remove('active');
                    });

                    // Add active class to clicked item
                    this.classList.add('active');

                    // Show the corresponding submenu
                    showSubMenu(menuId);

                    // Show the submenu container if it's hidden
                    toggleSubMenu(true);
                });
            });

            // Mobile menu button
            mobileMenuButton.addEventListener('click', function () {
                sidebarContainer.classList.toggle('open');
                overlay.classList.toggle('active');
            });

            // Overlay click (to close sidebar on mobile)
            overlay.addEventListener('click', function () {
                sidebarContainer.classList.remove('open');
                this.classList.remove('active');
                notificationDrawer.classList.remove('open');
            });

            // Profile icon click
            profileIcon.addEventListener('click', function (e) {
                e.stopPropagation();
                profileDropdown.classList.toggle('active');
            });

            // Notification icon click
            notificationIcon.addEventListener('click', function (e) {
                e.stopPropagation();
                notificationDrawer.classList.add('open');
            });

            // Close notification drawer
            notificationClose.addEventListener('click', function () {
                notificationDrawer.classList.remove('open');
            });


            // Close dropdowns when clicking elsewhere
            document.addEventListener('click', function () {
                profileDropdown.classList.remove('active');
            });

            // Initialize
            addDataLabelsToTable();

            // Show the system submenu by default
            showSubMenu('system');

            // Responsive behavior
            function handleResize() {
                if (window.innerWidth > 768) {
                    sidebarContainer.classList.remove('open');
                    overlay.classList.remove('active');
                    // Show submenu by default on desktop
                    toggleSubMenu(true);
                } else {
                    // Hide submenu by default on mobile
                    toggleSubMenu(false);
                }
            }

            // Initial call and listener for resize
            handleResize();
            window.addEventListener('resize', handleResize);
        });
    </script>

</body>

</html>